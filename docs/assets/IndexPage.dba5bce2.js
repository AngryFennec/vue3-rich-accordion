var Y=Object.defineProperty,q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var V=(u,n,o)=>n in u?Y(u,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[n]=o,T=(u,n)=>{for(var o in n||(n={}))W.call(n,o)&&V(u,o,n[o]);if(N)for(var o of N(n))H.call(n,o)&&V(u,o,n[o]);return u},F=(u,n)=>q(u,J(n));import{d as P,r as _,c as E,o as M,a as Z,p as G,b as p,e as f,f as B,i as Q,g as X,w as ee,h as t,j as te,n as ne,u as z,k as oe,l as O,m as l,q as se,v as ie,F as $,s as L,t as x,x as ae,y as a,z as U}from"./index.b738cd50.js";const K="PROVIDE_INJECT_KEY_ACCORDION_LIST",j=P({name:"AccordionList",props:{openMultipleItems:{type:Boolean},state:null,setClosePropertyTime:null},emits:["update:state"],setup(u,{emit:n}){const o=u,v=_({}),m=E({set(i){!!o.state?n("update:state",i):v.value=i},get(){return o.state?o.state:v.value}}),y=E(()=>Object.values(m.value).some(i=>i));let C=0,c=null;const h=_();function b(){var s;c==null||c.disconnect(),c=new ResizeObserver(e=>{e.forEach(({target:d,contentRect:w})=>{var r,S,D,A;d.classList.contains("accordion-item__content")&&((S=(r=d.parentElement)==null?void 0:r.style)==null||S.setProperty("--content-height",`${w.height}px`)),d.tagName.toLowerCase()==="summary"&&((A=(D=d.parentElement)==null?void 0:D.style)==null||A.setProperty("--summary-height",`${w.height}px`))})}),(((s=h.value)==null?void 0:s.querySelectorAll(".accordion-item__content, summary"))||[]).forEach(e=>c==null?void 0:c.observe(e))}function k(i){!!c&&b();const e=!y.value||!!o.openMultipleItems,d=i.id||(C++).toString(),r=!!i.defaultOpened&&e||!!i.isOnServerOpened||m.value[d];return m.value[d]=r,{id:d,isItemOpened:r}}function I(i){const s=T({},m.value),e=!s[i];o.openMultipleItems||Object.keys(s).forEach(d=>s[d]=!1),s[i]=e,m.value=s}return M(b),Z(()=>{!c||(c.disconnect(),c=null)}),G(K,{init:k,trigger:I,setClosePropertyTime:o.setClosePropertyTime||100,accordionListState:m}),(i,s)=>(p(),f("div",{ref_key:"rootElementRef",ref:h,class:"accordion-list"},[B(i.$slots,"default")],512))}}),le=["open","data-id","data-is-on-server-opened"],ce=["onClick"],de={class:"accordion-item__summary-title"},re={key:0,class:"accordion-item__summary-icon"},ue={key:1,class:"accordion-item__summary-icon accordion-item__summary-icon--default"},me={class:"accordion-item__content"},g=P({name:"AccordionItem",props:{id:null,defaultOpened:{type:Boolean},disabled:{type:Boolean}},setup(u){const n=u,{trigger:o,init:v,accordionListState:m,setClosePropertyTime:y}=Q(K)||{},C=E(()=>(m==null?void 0:m.value[h.value])||!1),c=_(),h=_(""),b=_(!1),k=_(C.value),I=_(!1),i=_("");X(async()=>{if(!v){console.error("no initItem function provided, please use AccordionItem only inside AccordionList");return}const{id:r,isItemOpened:S}=v(T({},n));I.value=S,i.value=r}),M(()=>{var D,A,R;if(!v){console.error("no initItem function provided, please use AccordionItem only inside AccordionList");return}(D=c.value)!=null&&D.dataset.id&&(h.value=c.value.dataset.id);const r=((R=(A=c.value)==null?void 0:A.dataset)==null?void 0:R.isOnServerOpened)=="true",{id:S}=v(F(T({},n),{isOnServerOpened:r}));h.value=S});function s(){!o||n.disabled||o(h.value)}const e=E(()=>({"accordion-item--open":C.value||I.value,"accordion-item--disabled":n.disabled}));function d(){b.value=!0}function w(){b.value=!1,k.value=C.value}return ee(C,r=>{if(r){k.value=!0;return}setTimeout(()=>{b.value||(k.value=!1)},y)}),(r,S)=>(p(),f("details",{ref_key:"detailsRef",ref:c,class:ne(["accordion-item",z(e)]),open:k.value||I.value,"data-id":i.value,"data-is-on-server-opened":I.value,onTransitionrun:d,onTransitionend:w},[t("summary",{class:"accordion-item__summary",onClick:te(s,["prevent"])},[t("span",de,[B(r.$slots,"summary")]),r.$slots.icon?(p(),f("span",re,[B(r.$slots,"icon")])):(p(),f("span",ue))],8,ce),t("div",me,[B(r.$slots,"default")])],42,le))}});const _e=ae('<div class="adv"><div class="image">\u{1FA97}</div><ul><li>Zero dependency</li><li>SSR friendly</li><li>Block resize friendly</li><li>v-model controlled</li><li>Default-open feature</li><li>Dynamic content reaction</li><li>Dynamic items allowed</li><li>Animated (optional, controlled by css)</li><li>Exclude closed item&#39;s content from tab loop</li><li>All content is provided by slots</li><li>Css fully customizable</li><li>W3C validator passed</li></ul></div>',1),pe={class:"sandbox"},ve=a(" Summary one"),fe=a("\u261D\uFE0F"),he=t("h3",null,"Dynamic content reaction",-1),ye=t("h3",null,"All content is provided by slots (f.g. you can nest another accordion)",-1),Ce=a("Nested accordion item-2 is closed default"),be=a("+"),ke=a(" Some nested content "),Ie=a("Nested accordion item-2 is opened default"),Se=a("+"),Oe=a(" Here some text of nested item-2 "),ge=a("This item is disabled you can control it via v-model"),we=a(" \u{1F480}"),De=a(" You can control it via v-model "),Ae=a("This item is dynamically added"),Ee=a("D"),Te=a("Last item (with default icon) here"),$e=t("div",null,[t("h1",null,[a(" Please subscribe "),t("a",{href:"https://www.youtube.com/channel/UCxKF1Edfy3LfvAsnveD-OVA"},"youtube channel"),a(", "),t("a",{href:"https://t.me/developers_workshop"},"telegram channel"),a("share video, stay stars and likes ")])],-1),xe={class:"v-model-rep"},Be=t("h3",null,"Props",-1),Pe=a(" Open multiple items "),Le=t("h3",null,"V-model representation",-1),Re=["checked","onChange"],Ne=t("h3",null,"Dynamic items",-1),Ve=t("h3",null,"Block resize",-1),Fe=P({name:"AccordionSandbox",setup(u){const n=_({}),o=_([]),v=_([]),m=_(!1),y=_(100);function C(){o.value.push("Date now is "+Date.now())}function c(){o.value.pop()}function h(){v.value.push("Date now is "+Date.now())}function b(){v.value.pop()}function k(i,s){const e=!!s.target.checked||!1;n.value[i]=e}const I=E(()=>Object.entries(n.value));return(i,s)=>(p(),f($,null,[_e,t("div",pe,[t("div",{class:"accordion-block",style:oe({width:y.value+"%"})},[O(j,{state:n.value,"onUpdate:state":s[0]||(s[0]=e=>n.value=e),"open-multiple-items":m.value},{default:l(()=>[O(g,{id:"mId1","default-opened":""},{summary:l(()=>[ve]),icon:l(()=>[fe]),default:l(()=>[he,t("div",null,[t("button",{onClick:C},"Add dynamic lines"),t("button",{onClick:c},"Remove dynamic lines")]),(p(!0),f($,null,L(o.value,(e,d)=>(p(),f("div",{key:d},x(e),1))),128)),ye,O(j,{"open-multiple-items":""},{default:l(()=>[O(g,null,{summary:l(()=>[Ce]),icon:l(()=>[be]),default:l(()=>[ke]),_:1}),O(g,{"default-opened":""},{summary:l(()=>[Ie]),icon:l(()=>[Se]),default:l(()=>[Oe]),_:1})]),_:1})]),_:1}),O(g,{id:"mId2",disabled:""},{summary:l(()=>[ge]),icon:l(()=>[we]),default:l(()=>[De]),_:1}),(p(!0),f($,null,L(v.value,e=>(p(),U(g,{key:e},{summary:l(()=>[Ae]),icon:l(()=>[Ee]),default:l(()=>[a(" "+x(e),1)]),_:2},1024))),128)),O(g,{id:"mId3"},{summary:l(()=>[Te]),default:l(()=>[$e]),_:1})]),_:1},8,["state","open-multiple-items"])],4),t("div",xe,[Be,t("div",null,[Pe,se(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>m.value=e),type:"checkbox"},null,512),[[ie,m.value]])]),Le,(p(!0),f($,null,L(z(I),e=>(p(),f("div",{key:e[0]},[a(x(e[0])+" ",1),t("input",{checked:e[1],type:"checkbox",onChange:d=>k(e[0],d)},null,40,Re)]))),128)),Ne,t("button",{onClick:h},"Add"),t("button",{onClick:b},"Remove"),Ve,t("div",null,"now width is: "+x(y.value)+"%",1),t("button",{onClick:s[2]||(s[2]=e=>y.value-=20)},"Smaller"),t("button",{onClick:s[3]||(s[3]=e=>y.value+=20)},"Bigger")])])],64))}}),ze=P({name:"IndexPage",setup(u){return(n,o)=>(p(),U(Fe))}});export{ze as default};
