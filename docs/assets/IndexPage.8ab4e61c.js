var Y=Object.defineProperty,q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var V=(d,n,o)=>n in d?Y(d,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[n]=o,T=(d,n)=>{for(var o in n||(n={}))W.call(n,o)&&V(d,o,n[o]);if(N)for(var o of N(n))H.call(n,o)&&V(d,o,n[o]);return d},F=(d,n)=>q(d,J(n));import{d as B,r as p,c as E,o as M,p as Z,a as v,b as k,e as $,i as G,f as Q,w as X,g as e,h as ee,n as te,u as z,j as ne,k as O,l as a,m as oe,v as se,F as x,q as L,t as P,s as ie,x as i,y as K}from"./index.f634a561.js";const U="PROVIDE_INJECT_KEY_ACCORDION_LIST",j=B({name:"AccordionList",props:{openMultipleItems:{type:Boolean},state:null,setClosePropertyTime:null},emits:["update:state"],setup(d,{emit:n}){const o=d,_=p({}),m=E({set(l){!!o.state?n("update:state",l):_.value=l},get(){return o.state?o.state:_.value}}),h=E(()=>Object.values(m.value).some(l=>l));let y=0,r=null;const f=p();function C(){var s;r==null||r.disconnect(),r=new ResizeObserver(t=>{t.forEach(({target:c,contentRect:D})=>{var u,S,w,A;c.classList.contains("accordion-item__content")&&((S=(u=c.parentElement)==null?void 0:u.style)==null||S.setProperty("--content-height",`${D.height}px`)),c.tagName.toLowerCase()==="summary"&&((A=(w=c.parentElement)==null?void 0:w.style)==null||A.setProperty("--summary-height",`${D.height}px`))})}),(((s=f.value)==null?void 0:s.querySelectorAll(".accordion-item__content, summary"))||[]).forEach(t=>r==null?void 0:r.observe(t))}function b(l){!!r&&C();const t=!h.value||!!o.openMultipleItems,c=l.id||(y++).toString(),u=!!l.defaultOpened&&t||!!l.isOnServerOpened||m.value[c];return m.value[c]=u,{id:c,isItemOpened:u}}function I(l){const s=T({},m.value),t=!s[l];o.openMultipleItems||Object.keys(s).forEach(c=>s[c]=!1),s[l]=t,m.value=s}return M(C),Z(U,{init:b,trigger:I,setClosePropertyTime:o.setClosePropertyTime||100,accordionListState:m}),(l,s)=>(v(),k("div",{ref_key:"rootElementRef",ref:f,class:"accordion-list"},[$(l.$slots,"default")],512))}}),le=["open","data-id","data-is-on-server-opened"],ae=["onClick"],ce={class:"accordion-item__summary-title"},de={class:"accordion-item__summary-icon"},re={class:"accordion-item__content"},g=B({name:"AccordionItem",props:{id:null,defaultOpened:{type:Boolean},disabled:{type:Boolean}},setup(d){const n=d,{trigger:o,init:_,accordionListState:m,setClosePropertyTime:h}=G(U)||{},y=E(()=>(m==null?void 0:m.value[f.value])||!1),r=p(),f=p(""),C=p(!1),b=p(y.value),I=p(!1),l=p("");Q(async()=>{if(!_){console.error("no initItem function provided, please use AccordionItem only inside AccordionList");return}const{id:u,isItemOpened:S}=_(T({},n));I.value=S,l.value=u}),M(()=>{var w,A,R;if(!_){console.error("no initItem function provided, please use AccordionItem only inside AccordionList");return}(w=r.value)!=null&&w.dataset.id&&(f.value=r.value.dataset.id);const u=((R=(A=r.value)==null?void 0:A.dataset)==null?void 0:R.isOnServerOpened)=="true",{id:S}=_(F(T({},n),{isOnServerOpened:u}));f.value=S});function s(){!o||n.disabled||o(f.value)}const t=E(()=>({"accordion-item--open":y.value||I.value,"accordion-item--disabled":n.disabled}));function c(){C.value=!0}function D(){C.value=!1,b.value=y.value}return X(y,u=>{if(u){b.value=!0;return}setTimeout(()=>{C.value||(b.value=!1)},h)}),(u,S)=>(v(),k("details",{ref_key:"detailsRef",ref:r,class:te(["accordion-item",z(t)]),open:b.value||I.value,"data-id":l.value,"data-is-on-server-opened":I.value,onTransitionrun:c,onTransitionend:D},[e("summary",{class:"accordion-item__summary",onClick:ee(s,["prevent"])},[e("span",ce,[$(u.$slots,"summary")]),e("span",de,[$(u.$slots,"icon")])],8,ae),e("div",re,[$(u.$slots,"default")])],42,le))}});const ue=ie('<div class="adv"><div class="image">\u{1FA97}</div><ul><li>Zero dependency</li><li>SSR friendly</li><li>Block resize friendly</li><li>v-model controlled</li><li>Default-open feature</li><li>Dynamic content reaction</li><li>Dynamic items allowed</li><li>Animated (optional, controlled by css)</li><li>Exclude closed item&#39;s content from tab loop</li><li>All content is provided by slots</li><li>Css fully customizable</li><li>W3C validator passed</li></ul></div>',1),me={class:"sandbox"},pe=i(" Summary one"),_e=i("\u261D\uFE0F"),ve=e("h3",null,"Dynamic content reaction",-1),fe=e("h3",null,"All content is provided by slots (f.g. you can nest another accordion)",-1),he=i("Nested accordion item-2 is closed default"),ye=i("+"),Ce=i(" Some nested content "),be=i("Nested accordion item-2 is opened default"),Ie=i("+"),ke=i(" Here some text of nested item-2 "),Se=i("This item is disabled you can control it via v-model"),Oe=i(" \u{1F480}"),ge=i(" You can control it via v-model "),De=i("This item is dynamically added"),we=i("D"),Ae=i("Last item here"),Ee=i(" \u{1F680}"),Te=e("div",null,[e("h1",null,[i(" Please subscribe "),e("a",{href:"https://www.youtube.com/channel/UCxKF1Edfy3LfvAsnveD-OVA"},"youtube channel"),i(", "),e("a",{href:"https://t.me/developers_workshop"},"telegram channel"),i("share video, stay stars and likes ")])],-1),xe={class:"v-model-rep"},Pe=e("h3",null,"Props",-1),$e=i(" Open multiple items "),Be=e("h3",null,"V-model representation",-1),Le=["checked","onChange"],Re=e("h3",null,"Dynamic items",-1),Ne=e("h3",null,"Block resize",-1),Ve=B({name:"AccordionSandbox",setup(d){const n=p({}),o=p([]),_=p([]),m=p(!1),h=p(100);function y(){o.value.push("Date now is "+Date.now())}function r(){o.value.pop()}function f(){_.value.push("Date now is "+Date.now())}function C(){_.value.pop()}function b(l,s){const t=!!s.target.checked||!1;n.value[l]=t}const I=E(()=>Object.entries(n.value));return(l,s)=>(v(),k(x,null,[ue,e("div",me,[e("div",{class:"accordion-block",style:ne({width:h.value+"%"})},[O(j,{state:n.value,"onUpdate:state":s[0]||(s[0]=t=>n.value=t),"open-multiple-items":m.value},{default:a(()=>[O(g,{id:"mId1","default-opened":""},{summary:a(()=>[pe]),icon:a(()=>[_e]),default:a(()=>[ve,e("div",null,[e("button",{onClick:y},"Add dynamic lines"),e("button",{onClick:r},"Remove dynamic lines")]),(v(!0),k(x,null,L(o.value,(t,c)=>(v(),k("div",{key:c},P(t),1))),128)),fe,O(j,{"open-multiple-items":""},{default:a(()=>[O(g,null,{summary:a(()=>[he]),icon:a(()=>[ye]),default:a(()=>[Ce]),_:1}),O(g,{"default-opened":""},{summary:a(()=>[be]),icon:a(()=>[Ie]),default:a(()=>[ke]),_:1})]),_:1})]),_:1}),O(g,{id:"mId2",disabled:""},{summary:a(()=>[Se]),icon:a(()=>[Oe]),default:a(()=>[ge]),_:1}),(v(!0),k(x,null,L(_.value,t=>(v(),K(g,{key:t},{summary:a(()=>[De]),icon:a(()=>[we]),default:a(()=>[i(" "+P(t),1)]),_:2},1024))),128)),O(g,{id:"mId3"},{summary:a(()=>[Ae]),icon:a(()=>[Ee]),default:a(()=>[Te]),_:1})]),_:1},8,["state","open-multiple-items"])],4),e("div",xe,[Pe,e("div",null,[$e,oe(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),type:"checkbox"},null,512),[[se,m.value]])]),Be,(v(!0),k(x,null,L(z(I),t=>(v(),k("div",{key:t[0]},[i(P(t[0])+" ",1),e("input",{checked:t[1],type:"checkbox",onChange:c=>b(t[0],c)},null,40,Le)]))),128)),Re,e("button",{onClick:f},"Add"),e("button",{onClick:C},"Remove"),Ne,e("div",null,"now width is: "+P(h.value)+"%",1),e("button",{onClick:s[2]||(s[2]=t=>h.value-=20)},"Smaller"),e("button",{onClick:s[3]||(s[3]=t=>h.value+=20)},"Bigger")])])],64))}}),Me=B({name:"IndexPage",setup(d){return(n,o)=>(v(),K(Ve))}});export{Me as default};
